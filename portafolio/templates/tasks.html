{% extends 'base.html' %}
{% block content %}
<main class="container">
    <div class="row">
        <div class="col-md-6 offset-md-3">
            <h1 class="text-center display-3 py-5">{{tipopagina}}</h1>
            <ul class="list-group">
                {% for task in tasks %}
                <a class="list-group-item" href="{% url 'task_detail' task.id %}">
                    <header class="d-flex justify-content-between align-items-start">
                        <div>
                            {% if task.important %}
                            <h1 class="fw-bold text-success mb-1">{{task.title}}</h1>
                            {% else %}
                            <h1 class="fw-bold mb-1">{{task.title}}</h1>
                            {% endif %}
                            <p class="mb-0 text-muted">{{task.description}}</p>
                        </div>
                        <div class="text-end">
                            <p class="mb-1">{{task.user.username}}</p>
                            {% if task.datecompleted %}
                                <span class="badge bg-success">Hecho</span>
                                <div class="small text-muted">Completado: {{task.datecompleted|date:'d M Y, H:i'}}</div>
                            {% else %}
                                <span class="badge bg-warning text-dark">Pendiente</span>
                            {% endif %}
                        </div>
                    </header>
                </a>
                {% endfor %}
            </ul>
        </div>
    </div>
</main>
{% endblock %}